var _0x1763=['./lib/employee','Employee','./lib/timecard','Timecard','match','getTime','toISOString','slice','([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])','test','length','n/a','mgr\x20delete','YYYY-MM-DD','delete','dept_id','getId','setMngId','map','location','getAllDepartment','query','dept_name','dept_no','INSERT\x20INTO\x20department\x20(company,\x20dept_name,\x20dept_no,\x20location\x20)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','log','updateDepartment','UPDATE\x20department\x20SET\x20dept_name\x20=\x20?,\x20dept_no\x20=\x20?,\x20location\x20=\x20?\x20WHERE\x20dept_id\x20=\x20?','SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?','DELETE\x20from\x20department\x20WHERE\x20dept_id\x20=\x20?\x20AND\x20company\x20=\x20?','affectedRows','deleteDepartment','hire_date','emp_name','emp_no','job','salary','mng_id','SELECT\x20*\x20FROM\x20employee\x20WHERE\x20emp_id\x20=\x20?','insertId','emp_id','insertEmployee','SELECT\x20*\x20FROM\x20employee\x20LEFT\x20JOIN\x20department\x20USING(dept_id)\x20WHERE\x20department.company\x20=\x20?','getAllEmployee','getEmployee','UPDATE\x20employee\x20SET\x20emp_name\x20=\x20?,\x20emp_no\x20=\x20?,\x20hire_date\x20=\x20?,\x20job\x20=\x20?,\x20salary\x20=\x20?,\x20dept_id\x20=\x20?,\x20mng_id\x20=\x20?\x20WHERE\x20emp_id\x20=\x20?','updateEmployee','DELETE\x20from\x20employee\x20WHERE\x20emp_id\x20=\x20?','deleteEmployee','start_time','split','end_time','INSERT\x20INTO\x20timecard\x20(start_time,\x20end_time,\x20emp_id\x20)\x20VALUES\x20(?,\x20?,\x20?)','timecard_id','date-fns/format','SELECT\x20*\x20FROM\x20timecard\x20where\x20emp_id\x20=\x20?','YYYY-MM-DD\x20HH:mm:ss','getAllTimecard','getTimecard','SELECT\x20*\x20FROM\x20timecard\x20WHERE\x20timecard_id\x20=\x20?','updateTimecard','UPDATE\x20timecard\x20SET\x20start_time\x20=\x20?,\x20end_time\x20=\x20?\x20WHERE\x20timecard_id\x20=\x20?','DELETE\x20from\x20timecard\x20WHERE\x20timecard_id\x20=\x20?','deleteTimecard','sync-mysql','bdfvks-docker.ist.rit.edu','576','company','./lib/department','exports'];(function(_0x23d325,_0x3c658f){var _0x516baa=function(_0xede485){while(--_0xede485){_0x23d325['push'](_0x23d325['shift']());}};var _0x592aef=function(){var _0x393061={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x345bdc,_0x47a081,_0x363751,_0x2a11a0){_0x2a11a0=_0x2a11a0||{};var _0x2aef79=_0x47a081+'='+_0x363751;var _0xb2ad66=0x0;for(var _0xb2ad66=0x0,_0x349f0d=_0x345bdc['length'];_0xb2ad66<_0x349f0d;_0xb2ad66++){var _0x1ee961=_0x345bdc[_0xb2ad66];_0x2aef79+=';\x20'+_0x1ee961;var _0x15cf8e=_0x345bdc[_0x1ee961];_0x345bdc['push'](_0x15cf8e);_0x349f0d=_0x345bdc['length'];if(_0x15cf8e!==!![]){_0x2aef79+='='+_0x15cf8e;}}_0x2a11a0['cookie']=_0x2aef79;},'removeCookie':function(){return'dev';},'getCookie':function(_0x10d8d2,_0xc2d1ca){_0x10d8d2=_0x10d8d2||function(_0x5575b6){return _0x5575b6;};var _0x477352=_0x10d8d2(new RegExp('(?:^|;\x20)'+_0xc2d1ca['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x287b78=function(_0x4d348f,_0xa03b73){_0x4d348f(++_0xa03b73);};_0x287b78(_0x516baa,_0x3c658f);return _0x477352?decodeURIComponent(_0x477352[0x1]):undefined;}};var _0x5893c2=function(){var _0x27c050=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x27c050['test'](_0x393061['removeCookie']['toString']());};_0x393061['updateCookie']=_0x5893c2;var _0x506592='';var _0x4e1a51=_0x393061['updateCookie']();if(!_0x4e1a51){_0x393061['setCookie'](['*'],'counter',0x1);}else if(_0x4e1a51){_0x506592=_0x393061['getCookie'](null,'counter');}else{_0x393061['removeCookie']();}};_0x592aef();}(_0x1763,0x19e));var _0x2bad=function(_0x410403,_0x795345){_0x410403=_0x410403-0x0;var _0x5e4d9e=_0x1763[_0x410403];return _0x5e4d9e;};var _0x50e3d5=function(){var _0x5bc88d=!![];return function(_0x2c3144,_0x377488){var _0x1cd342=_0x5bc88d?function(){if(_0x377488){var _0x49d37d=_0x377488['apply'](_0x2c3144,arguments);_0x377488=null;return _0x49d37d;}}:function(){};_0x5bc88d=![];return _0x1cd342;};}();var _0x398a32=_0x50e3d5(this,function(){var _0x1666d1=function(){return'\x64\x65\x76';},_0x3e9fc2=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x532e6d=function(){var _0x84a8f0=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x84a8f0['\x74\x65\x73\x74'](_0x1666d1['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x56b275=function(){var _0x383d0b=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x383d0b['\x74\x65\x73\x74'](_0x3e9fc2['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x257d6a=function(_0x2a6c50){var _0x4193d2=~-0x1>>0x1+0xff%0x0;if(_0x2a6c50['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x4193d2)){_0x1f1cec(_0x2a6c50);}};var _0x1f1cec=function(_0x4ec071){var _0x154f8a=~-0x4>>0x1+0xff%0x0;if(_0x4ec071['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x154f8a){_0x257d6a(_0x4ec071);}};if(!_0x532e6d()){if(!_0x56b275()){_0x257d6a('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x257d6a('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x257d6a('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x398a32();'use strict';var MySql=require(_0x2bad('0x0'));var connection=new MySql({'host':_0x2bad('0x1'),'user':_0x2bad('0x2'),'password':_0x2bad('0x2'),'database':_0x2bad('0x3')});var Department=require(_0x2bad('0x4'));module[_0x2bad('0x5')]['Department']=Department;var Employee=require(_0x2bad('0x6'));module[_0x2bad('0x5')][_0x2bad('0x7')]=Employee;var Timecard=require(_0x2bad('0x8'));module[_0x2bad('0x5')][_0x2bad('0x9')]=Timecard;function isValidDate(_0x47c2e5){var _0x12d560=/^\d{4}-\d{2}-\d{2}$/;if(!_0x47c2e5[_0x2bad('0xa')](_0x12d560))return![];var _0x41042c=new Date(_0x47c2e5);if(!_0x41042c[_0x2bad('0xb')]()&&_0x41042c[_0x2bad('0xb')]()!==0x0)return![];return _0x41042c[_0x2bad('0xc')]()[_0x2bad('0xd')](0x0,0xa)===_0x47c2e5;}function validateTime(_0x22cca2){var _0x4d65e8=new RegExp(_0x2bad('0xe'));if(_0x4d65e8[_0x2bad('0xf')](_0x22cca2)){return!![];}else{return![];}}module[_0x2bad('0x5')]['deleteCompany']=function(_0x3a77d5){const _0x178095=require('date-fns/format');if(!_0x3a77d5||_0x3a77d5[_0x2bad('0x10')]===0x0||/^\s*$/[_0x2bad('0xf')](_0x3a77d5)){_0x3a77d5=_0x2bad('0x11');}var _0x1be6cf=0x0;var _0x1d404d=getAllDepartment(_0x3a77d5);var _0x48f61e=getAllEmployee(_0x3a77d5);if(_0x48f61e[_0x2bad('0x10')]>0x0){var _0x86a12d=new Employee(_0x2bad('0x12'),_0x2bad('0x12'),_0x178095(new Date(),_0x2bad('0x13')),_0x2bad('0x14'),0x0,_0x48f61e[0x0][_0x2bad('0x15')],null,null);insertEmployee(_0x86a12d);var _0x9919fa=_0x86a12d['getId']();for(var _0x423cc8 of _0x48f61e){if(_0x423cc8[_0x2bad('0x16')]()!=_0x9919fa){_0x423cc8[_0x2bad('0x17')](_0x9919fa);updateEmployee(_0x423cc8);var _0x4209d1=getAllTimecard(_0x423cc8[_0x2bad('0x16')]());for(var _0x2c81f6 of _0x4209d1){deleteTimecard(_0x2c81f6[_0x2bad('0x16')]());_0x1be6cf++;}}}for(var _0x423cc8 of _0x48f61e){if(_0x423cc8[_0x2bad('0x16')]()!=_0x9919fa){deleteEmployee(_0x423cc8[_0x2bad('0x16')]());_0x1be6cf++;}}deleteEmployee(_0x9919fa);_0x1be6cf++;}for(var _0x2dff64 of _0x1d404d){deleteDepartment(_0x3a77d5,_0x2dff64[_0x2bad('0x16')]());_0x1be6cf++;}return _0x1be6cf;};function getAllDepartment(_0x4bf7b8){if(!_0x4bf7b8||_0x4bf7b8['length']===0x0||/^\s*$/[_0x2bad('0xf')](_0x4bf7b8)){_0x4bf7b8=_0x2bad('0x11');}var _0x32929b=connection['query']('SELECT\x20*\x20FROM\x20department\x20WHERE\x20company\x20=\x20?',[_0x4bf7b8]);return _0x32929b[_0x2bad('0x18')](_0x369314=>new Department(_0x369314['company'],_0x369314['dept_name'],_0x369314['dept_no'],_0x369314[_0x2bad('0x19')],_0x369314[_0x2bad('0x15')]));}module[_0x2bad('0x5')][_0x2bad('0x1a')]=getAllDepartment;module['exports']['getDepartment']=function(_0xc164b5,_0x5ec3ff){if(!_0x5ec3ff||!_0xc164b5)return null;var _0x40ed0e=connection[_0x2bad('0x1b')]('SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?\x20AND\x20company\x20=\x20?',[_0x5ec3ff,_0xc164b5]);if(_0x40ed0e['length']==0x1){return new Department(_0x40ed0e[0x0][_0x2bad('0x3')],_0x40ed0e[0x0][_0x2bad('0x1c')],_0x40ed0e[0x0][_0x2bad('0x1d')],_0x40ed0e[0x0][_0x2bad('0x19')],_0x40ed0e[0x0][_0x2bad('0x15')]);}else{return null;}};module[_0x2bad('0x5')]['insertDepartment']=function(_0x386906){try{var _0x2b8be4=connection[_0x2bad('0x1b')](_0x2bad('0x1e'),[_0x386906[_0x2bad('0x3')],_0x386906[_0x2bad('0x1c')],_0x386906[_0x2bad('0x1d')],_0x386906[_0x2bad('0x19')]]);_0x2b8be4=connection[_0x2bad('0x1b')]('SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?',[_0x2b8be4['insertId']]);return new Department(_0x2b8be4[0x0][_0x2bad('0x3')],_0x2b8be4[0x0][_0x2bad('0x1c')],_0x2b8be4[0x0][_0x2bad('0x1d')],_0x2b8be4[0x0]['location'],_0x2b8be4[0x0][_0x2bad('0x15')]);}catch(_0x58c7e1){console[_0x2bad('0x1f')](_0x58c7e1);return null;}};module[_0x2bad('0x5')][_0x2bad('0x20')]=function(_0x57adcf){try{var _0x59493d=connection[_0x2bad('0x1b')](_0x2bad('0x21'),[_0x57adcf[_0x2bad('0x1c')],_0x57adcf[_0x2bad('0x1d')],_0x57adcf[_0x2bad('0x19')],_0x57adcf[_0x2bad('0x15')]]);_0x59493d=connection['query'](_0x2bad('0x22'),[_0x57adcf['dept_id']]);if(_0x59493d[_0x2bad('0x10')]==0x1){return new Department(_0x59493d[0x0][_0x2bad('0x3')],_0x59493d[0x0]['dept_name'],_0x59493d[0x0]['dept_no'],_0x59493d[0x0][_0x2bad('0x19')],_0x59493d[0x0]['dept_id']);}else{return null;}}catch(_0x2096b0){console['log'](_0x2096b0);return null;}};function deleteDepartment(_0x5c1025,_0x514082){try{var _0x1c5882=connection['query'](_0x2bad('0x23'),[_0x514082,_0x5c1025]);return _0x1c5882[_0x2bad('0x24')];}catch(_0x362587){console[_0x2bad('0x1f')](_0x362587);return 0x0;}}module[_0x2bad('0x5')][_0x2bad('0x25')]=deleteDepartment;function insertEmployee(_0x43d973){if(!_0x43d973[_0x2bad('0x26')]||!isValidDate(_0x43d973[_0x2bad('0x26')])){return null;}try{var _0x924cfb=connection[_0x2bad('0x1b')]('INSERT\x20INTO\x20employee\x20(emp_name,\x20emp_no,\x20hire_date,\x20job,\x20salary,\x20dept_id,\x20mng_id\x20)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)',[_0x43d973[_0x2bad('0x27')],_0x43d973[_0x2bad('0x28')],_0x43d973[_0x2bad('0x26')],_0x43d973[_0x2bad('0x29')],_0x43d973[_0x2bad('0x2a')],_0x43d973[_0x2bad('0x15')],_0x43d973[_0x2bad('0x2b')]]);_0x924cfb=connection[_0x2bad('0x1b')](_0x2bad('0x2c'),[_0x924cfb[_0x2bad('0x2d')]]);return new Employee(_0x924cfb[0x0]['emp_name'],_0x924cfb[0x0]['emp_no'],_0x924cfb[0x0][_0x2bad('0x26')],_0x924cfb[0x0]['job'],_0x924cfb[0x0][_0x2bad('0x2a')],_0x924cfb[0x0][_0x2bad('0x15')],_0x924cfb[0x0][_0x2bad('0x2b')],_0x924cfb[0x0][_0x2bad('0x2e')]);}catch(_0x38a248){console[_0x2bad('0x1f')](_0x38a248);return null;}}module[_0x2bad('0x5')][_0x2bad('0x2f')]=insertEmployee;function getAllEmployee(_0xf1d531){if(!_0xf1d531||_0xf1d531[_0x2bad('0x10')]===0x0||/^\s*$/[_0x2bad('0xf')](_0xf1d531)){_0xf1d531='n/a';}var _0x4ee68f=connection[_0x2bad('0x1b')](_0x2bad('0x30'),[_0xf1d531]);return _0x4ee68f[_0x2bad('0x18')](_0x2fa258=>new Employee(_0x2fa258[_0x2bad('0x27')],_0x2fa258[_0x2bad('0x28')],_0x2fa258[_0x2bad('0x26')],_0x2fa258['job'],_0x2fa258[_0x2bad('0x2a')],_0x2fa258[_0x2bad('0x15')],_0x2fa258[_0x2bad('0x2b')],_0x2fa258['emp_id']));}module[_0x2bad('0x5')][_0x2bad('0x31')]=getAllEmployee;module[_0x2bad('0x5')][_0x2bad('0x32')]=function(_0x2a194b){if(!_0x2a194b)return null;var _0x3a9589=connection[_0x2bad('0x1b')](_0x2bad('0x2c'),[_0x2a194b]);if(_0x3a9589[_0x2bad('0x10')]==0x1){return new Employee(_0x3a9589[0x0][_0x2bad('0x27')],_0x3a9589[0x0][_0x2bad('0x28')],_0x3a9589[0x0][_0x2bad('0x26')],_0x3a9589[0x0][_0x2bad('0x29')],_0x3a9589[0x0][_0x2bad('0x2a')],_0x3a9589[0x0][_0x2bad('0x15')],_0x3a9589[0x0][_0x2bad('0x2b')],_0x3a9589[0x0][_0x2bad('0x2e')]);}else{return null;}};function updateEmployee(_0x137e10){if(!_0x137e10['hire_date']||!isValidDate(_0x137e10[_0x2bad('0x26')])){return null;}try{var _0x185a5f=connection[_0x2bad('0x1b')](_0x2bad('0x33'),[_0x137e10[_0x2bad('0x27')],_0x137e10[_0x2bad('0x28')],_0x137e10[_0x2bad('0x26')],_0x137e10[_0x2bad('0x29')],_0x137e10[_0x2bad('0x2a')],_0x137e10['dept_id'],_0x137e10[_0x2bad('0x2b')],_0x137e10[_0x2bad('0x2e')]]);_0x185a5f=connection[_0x2bad('0x1b')](_0x2bad('0x2c'),[_0x137e10[_0x2bad('0x2e')]]);if(_0x185a5f[_0x2bad('0x10')]==0x1){return new Employee(_0x185a5f[0x0][_0x2bad('0x27')],_0x185a5f[0x0][_0x2bad('0x28')],_0x185a5f[0x0]['hire_date'],_0x185a5f[0x0][_0x2bad('0x29')],_0x185a5f[0x0]['salary'],_0x185a5f[0x0]['dept_id'],_0x185a5f[0x0]['mng_id'],_0x185a5f[0x0][_0x2bad('0x2e')]);}else{return null;}}catch(_0x1f42c4){console['log'](_0x1f42c4);return null;}}module[_0x2bad('0x5')][_0x2bad('0x34')]=updateEmployee;function deleteEmployee(_0x4a48e4){try{var _0x22d3d4=connection[_0x2bad('0x1b')](_0x2bad('0x35'),[_0x4a48e4]);return _0x22d3d4['affectedRows'];}catch(_0x7b14f4){console[_0x2bad('0x1f')](_0x7b14f4);return 0x0;}}module[_0x2bad('0x5')][_0x2bad('0x36')]=deleteEmployee;module[_0x2bad('0x5')]['insertTimecard']=function(_0x30e28b){var _0x588228=_0x30e28b[_0x2bad('0x37')][_0x2bad('0x38')]('\x20');if(!isValidDate(_0x588228[0x0])||!validateTime(_0x588228[0x1])){return null;}var _0x390769=_0x30e28b[_0x2bad('0x39')][_0x2bad('0x38')]('\x20');if(!isValidDate(_0x390769[0x0])||!validateTime(_0x390769[0x1])){return null;}try{var _0x2dae8e=connection['query'](_0x2bad('0x3a'),[_0x30e28b[_0x2bad('0x37')],_0x30e28b[_0x2bad('0x39')],_0x30e28b[_0x2bad('0x2e')]]);_0x2dae8e=connection[_0x2bad('0x1b')]('SELECT\x20*\x20FROM\x20timecard\x20WHERE\x20timecard_id\x20=\x20?',[_0x2dae8e[_0x2bad('0x2d')]]);return new Timecard(_0x2dae8e[0x0]['start_time'],_0x2dae8e[0x0][_0x2bad('0x39')],_0x2dae8e[0x0][_0x2bad('0x2e')],_0x2dae8e[0x0][_0x2bad('0x3b')]);}catch(_0x4851a9){console[_0x2bad('0x1f')](_0x4851a9);return null;}};function getAllTimecard(_0x3192ab){const _0x358544=require(_0x2bad('0x3c'));var _0x550d47=connection[_0x2bad('0x1b')](_0x2bad('0x3d'),[_0x3192ab]);return _0x550d47[_0x2bad('0x18')](_0x2875f4=>new Timecard(_0x358544(_0x2875f4['start_time'],_0x2bad('0x3e')),_0x358544(_0x2875f4[_0x2bad('0x39')],'YYYY-MM-DD\x20HH:mm:ss'),_0x2875f4[_0x2bad('0x2e')],_0x2875f4['timecard_id']));}module[_0x2bad('0x5')][_0x2bad('0x3f')]=getAllTimecard;module['exports'][_0x2bad('0x40')]=function(_0x41784c){const _0x3997c3=require(_0x2bad('0x3c'));if(!_0x41784c)return null;var _0x5a9aa2=connection[_0x2bad('0x1b')](_0x2bad('0x41'),[_0x41784c]);if(_0x5a9aa2[_0x2bad('0x10')]==0x1){return new Timecard(_0x3997c3(_0x5a9aa2[0x0][_0x2bad('0x37')],_0x2bad('0x3e')),_0x3997c3(_0x5a9aa2[0x0][_0x2bad('0x39')],_0x2bad('0x3e')),_0x5a9aa2[0x0][_0x2bad('0x2e')],_0x5a9aa2[0x0][_0x2bad('0x3b')]);}else{return null;}};module['exports'][_0x2bad('0x42')]=function(_0x189f2b){const _0x151cc6=require(_0x2bad('0x3c'));var _0x2f4b0d=_0x189f2b['start_time'][_0x2bad('0x38')]('\x20');if(!isValidDate(_0x2f4b0d[0x0])||!validateTime(_0x2f4b0d[0x1])){return null;}var _0x27d2e7=_0x189f2b['end_time'][_0x2bad('0x38')]('\x20');if(!isValidDate(_0x27d2e7[0x0])||!validateTime(_0x27d2e7[0x1])){return null;}try{var _0x5cd4a2=connection[_0x2bad('0x1b')](_0x2bad('0x43'),[_0x189f2b[_0x2bad('0x37')],_0x189f2b[_0x2bad('0x39')],_0x189f2b['timecard_id']]);_0x5cd4a2=connection[_0x2bad('0x1b')](_0x2bad('0x41'),[_0x189f2b['timecard_id']]);if(_0x5cd4a2[_0x2bad('0x10')]==0x1){return new Timecard(_0x151cc6(_0x5cd4a2[0x0][_0x2bad('0x37')],_0x2bad('0x3e')),_0x151cc6(_0x5cd4a2[0x0][_0x2bad('0x39')],_0x2bad('0x3e')),_0x5cd4a2[0x0][_0x2bad('0x2e')],_0x5cd4a2[0x0]['timecard_id']);}else{return null;}}catch(_0x1434f0){console[_0x2bad('0x1f')](_0x1434f0);return null;}};function deleteTimecard(_0x395b43){try{var _0x4a9dc4=connection[_0x2bad('0x1b')](_0x2bad('0x44'),[_0x395b43]);return _0x4a9dc4[_0x2bad('0x24')];}catch(_0x4179a3){console[_0x2bad('0x1f')](_0x4179a3);return 0x0;}}module[_0x2bad('0x5')][_0x2bad('0x45')]=deleteTimecard;